"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5432],{"ri+0":(e,t,n)=>{n.d(t,{Z:()=>U});var a=n("RlfA"),r=n("Vadf"),o=n("q1tI"),s=n("17x9"),d=n.n(s),i=n("vOnD"),l=n("MKeS"),_=n("v/B1"),E=n("WjMd"),u=n("lXQd"),R=n("j399"),S=n("AdJq"),c=n("VAjR"),A=n("IFhr"),T=n("52g3"),O=n("guOt"),D=n("WHL/"),f=n("tvna"),g=n("HTZ8"),L=n("QVsL"),I=n("syeM"),p=n("VHv3"),N,C=(0,l.ZP)({resolved:{},chunkName:function(){return"sushiweb-Order-LocationChangerModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(6588),n.e(1853)]).then(n.bind(n,"gTJI"))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var a=this.resolve(t);return n(a)},resolve:function e(){return"gTJI"}},{ssr:!1}),P=function e(t){var n=t.pageName,a=t.whatsappUserId,s=t.resId,d=t.pageUrl,i=t.addressPrefix,l=t.setCurrentAddress,N=t.currentAddress,P=t.isFloodReliefRes,U=t.pageSubtype,h=t.userLat,H=t.userLon,y=t.isMobile,v=t.showErrorToast,m=t.dispatchToGetUserPermissionSaga,b=t.ORDER_SUSHI_CHANGE_BUTTON_CAPTION,K=t.locationChangerLocale,M=t.isLoggedIn,w=t.openLoginModalTypeLogin,B=t.orderLocationName,G=t.placeName,V=t.isAddressServicable,Z=t.bottomPadding,k=t.fetchConfigs,F=t.isWhatsappOrderFlow,W=t.setLocationFromAddress,q=t.openLocationModal,X=(0,o.useState)(!1),x=(0,r.Z)(X,2),Y=x[0],j=x[1],Q=(0,D.ZP)(n),J=(0,p.Z)(n),z=Q,$=(0,g.w)(K,n,Q),ee=function(){(0,O.s)(T.N.CHANGE_ADDRESS,{resId:s,appType:J,whatsappUserId:a}),y?q():j(!0)},te=function(){j(!1)},ne="undefined"!=typeof window?window.zomato.googleMapAPIKey:"",ae=function(){var e=(0,u.default)(K,"PARTNERSHIPS_AUTH_ERROR","Unable to authenticate. Please try again.");v(e)},re=z?function(){m({successCallback:ee,errorCallback:ae,flowType:I.NT.ADD_ADDRESS})}:w,oe=N.display_title,se=void 0===oe?"":oe,de=N.address,ie=void 0===de?"":de,le=function(e){return y&&"string"==typeof e&&e.length>55?"".concat(e.slice(0,55),"..."):e},_e={enableCloseOnBack:Q,isOpen:Y,closeModal:te,pageUrl:d},Ee=se?"".concat(se," (").concat(le(ie),")"):ie,ue=!P&&U!==c.l1,Re=U===c.l1;(0,L.Z)(_e);var Se={addressPrefix:i,address:Ee||le(B),fnOnChangeClick:ue?ee:R.default,changeButtonCaption:b,hideChangeButton:!ue,isNotValid:!Ee&&!V},ce=Re||y?f.V:_.Z;return o.createElement(e.Wrapper,null,o.createElement(ce,Se),ue&&Y&&o.createElement(C,{isOpen:Y,onClose:te,currentAddress:ie||G,fnOnAddressSelect:function(e){(0,O.s)(T.N.SELECTED_ADDRESS,{resId:s,appType:J,whatsappUserId:a}),l(e),W(e,n,s)},defaultLatLong:{lat:h,lng:H},host:S.ho,resId:s,googleMapKey:ne,addNewAddressCallback:function(){var e={resId:s,addAddressSource:A.H.ORDER,addAddressPageName:n,appType:J,whatsappUserId:a};(0,O.s)(T.N.ADD_ADDRESS,e)},fnOnSaveAddress:function(e,t){var n=e.id,r=void 0===n?"":n;(0,O.s)(T.N.SAVE_ADDRESS,{resId:s,addressId:r,status:t,appType:J,whatsappUserId:a})},locale:K,addressListLocale:K.addressListLocale,isLoggedIn:M,notLoggedInCallback:re,googleMapPromptText:K.googleMapPromptText,bottomPadding:Z,fetchConfigs:k,isMobile:y,hideDetectLocation:F,handleGettingCurrentLocation:!Q,getGeoLocationHelper:$,fallback:o.createElement(E.Z,{active:!0})}))};P.Wrapper=i.default.div(N||(N=(0,a.Z)([""]))),P.propTypes={fetchConfigs:d().shape({headers:d().objectOf(d().string)}),pageName:d().string,pageUrl:d().string,resId:d().number.isRequired,showErrorToast:d().func.isRequired,currentAddress:d().objectOf(d().any).isRequired,dispatchToGetUserPermissionSaga:d().func.isRequired,isFloodReliefRes:d().bool.isRequired,setCurrentAddress:d().func.isRequired,userLat:d().string.isRequired,userLon:d().string.isRequired,pageSubtype:d().string,addressPrefix:d().string.isRequired,ORDER_SUSHI_CHANGE_BUTTON_CAPTION:d().string,locationChangerLocale:d().objectOf(d().any),isLoggedIn:d().bool,openLoginModalTypeLogin:d().func,isMobile:d().bool,orderLocationName:d().string.isRequired,placeName:d().string.isRequired,isAddressServicable:d().bool.isRequired,bottomPadding:d().number,setLocationFromAddress:d().func,openLocationModal:d().func,whatsappUserId:d().number,isWhatsappOrderFlow:d().bool},P.defaultProps={pageName:c.lX,whatsappUserId:0,pageSubtype:"",pageUrl:"",ORDER_SUSHI_CHANGE_BUTTON_CAPTION:"change",locationChangerLocale:{},isLoggedIn:!1,openLoginModalTypeLogin:R.default,isMobile:!1,bottomPadding:1,fetchConfigs:null,isWhatsappOrderFlow:!1,setLocationFromAddress:R.default,openLocationModal:R.default};const U=P},"1vGG":(e,t,n)=>{n.d(t,{Z:()=>D});var a=n("lXQd"),r=n("AkOy"),o=n("TRpf"),s=n("P62M"),d=n("Ujvf"),i=n("VAjR"),l=n("nQUI"),_=n("ri+0"),E=n("hcmH"),u=n("hfmy"),R=n("yjvN"),S=n("5RJS"),c=n("X2+A"),A=n("3fQ4"),T=n("CpmW"),O=n("lSAP");const D=(0,o.$j)((function(e){var t=(0,a.default)(e,"pages.current.name",""),n=(0,a.default)(e,"pages.current.resId",0),o=(0,a.default)(e,"pages.current.subType",""),d=(0,a.default)(e,"location.currentLocation.orderLocationName",""),l=(0,a.default)(e,"location.currentLocation.o2Serviceable",!1),_="".concat((0,a.default)(e,"langKeys.TAKEAWAY_PICKUP_ADDRESS_PREFIX","You will need to pick up this order from")," "),R=(0,a.default)(e,"user.currentAddress",{}),S=(0,a.default)(e,"langKeys.ORDER_ADDRESS_PREFIX","Delivering to: "),c=(0,a.default)(e,"langKeys.ORDER_ADDRESS_PREFIX_NOT_DELIVERING","Does not deliver to: "),D=l||!(0,r.default)(R)?S:c,f=o===i.kl?D:_,g=(0,T.c)(e),L=g.userLatitude,I=void 0===L?0:L,p=g.userLongitude,N=void 0===p?0:p;return{pageName:t,resId:n,whatsappUserId:(0,A.f)(e),pageUrl:(0,a.default)(e,"pages.current.pageUrl",""),userLat:I,userLon:N,isFloodReliefRes:!!(0,a.default)(e,"pages.current.isFloodReliefRes",!1),pageSubtype:o,addressPrefix:f,isMobile:!!(0,a.default)(e,"pages.current.isMobile",0),ORDER_SUSHI_CHANGE_BUTTON_CAPTION:(0,a.default)(e,"langKeys.ORDER_SUSHI_CHANGE_BUTTON_CAPTION",""),locationChangerLocale:(0,E.Z)(e),isLoggedIn:(0,s.Pc)(e),orderLocationName:d,placeName:(0,a.default)(e,"location.currentLocation.placeName",0),currentAddress:R,isAddressServicable:l,bottomPadding:(0,u.V)(e),fetchConfigs:(0,a.default)(e,"fetchConfigs",null),isWhatsappOrderFlow:(0,O.j)(e)}}),(function(e){return{setCurrentAddress:function(t){return e((0,l.Nr)(t))},openLoginModalTypeLogin:function(){return e((0,d.WG)())},showErrorToast:function(t){return e((0,d.u1)(t))},setLocationFromAddress:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e((0,S.x$)(t,n,a))},dispatchToGetUserPermissionSaga:function(t){var n=t.successCallback,a=t.errorCallback,r=t.flowType;return e((0,R.TF)({successCallback:n,errorCallback:a,flowType:r}))},openLocationModal:function(){return e((0,c.NW)())}}}))(_.Z)},tvna:(e,t,n)=>{n.d(t,{V:()=>d});var a,r=n("RlfA"),o=n("vOnD"),s=n("9MgT"),d=(0,o.default)(s.Z)(a||(a=(0,r.Z)(["\n  @media (max-width: 480px) {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    padding-left: 1rem;\n    padding-right: 1rem;\n\n    p {\n      font-size: 1.2rem;\n      font-weight: 300;\n      line-height: 2rem;\n      max-height: 4rem;\n      overflow: hidden;\n    }\n\n    p > span {\n      font-size: 1.2rem;\n      font-weight: 500;\n      line-height: 0;\n    }\n\n    button {\n      line-height: 2rem;\n      padding: 0 0.2rem 0 0;\n    }\n  }\n"])))},HTZ8:(e,t,n)=>{n.d(t,{Z:()=>c,w:()=>S});var a=n("/0+J"),r=n("Vadf"),o=n("Kq5O"),s=n.n(o),d=n("q1tI"),i=n("lXQd"),l=n("j399"),_=n("KFCZ"),E=n("Acma"),u=function(e){var t="NO_BROWSER_SUPPORT";return new Promise((function(n,a){if(!navigator||!navigator.geolocation){var r=new Error((0,i.default)(e,"NO_BROWSER_SUPPORT_MESSAGE"));r.code=t,r.NO_BROWSER_SUPPORT=t,r.originalError=null,a(r)}navigator.geolocation.getCurrentPosition(n,(function(t){var n="";switch(t.code){case t.PERMISSION_DENIED:n=(0,i.default)(e,"PERMISSION_DENIED_MESSAGE");break;case t.POSITION_UNAVAILABLE:n=(0,i.default)(e,"POSITION_UNAVAILABLE_MESSAGE");break;case t.TIMEOUT:n=(0,i.default)(e,"TIMEOUT_MESSAGE");break;case t.UNKNOWN_ERROR:n=(0,i.default)(e,"UNKNOWN_ERROR_MESSAGE");break;default:n=(0,i.default)(e,"DEFAULT_ERROR_MESSAGE")}var r=new Error(n);r.code=t.code,r.originalError=t,a(r)}))}))},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,d.useState)(!1),o=(0,r.Z)(n,2),i=o[0],E=o[1],R=l.default;return R=t?function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.abrupt("return",new Promise((function(e,t){_.Z.getClient().requestCurrentLocation().then((function(t){var n={coords:{latitude:t.latitude,longitude:t.longitude}};e(n)})).catch((function(e){t(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}():function(){var t=(0,a.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E(!0),t.abrupt("return",u(e));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),[i,E,R]},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=R(e,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),o=(0,r.Z)(n,3),d=(o[0],o[1],o[2]),_=l.default,u={latitude:0,longitude:0};return _=function(){var e=(0,a.Z)(s().mark((function e(){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d();case 3:n=e.sent,u={latitude:(0,i.default)(n,"coords.latitude",0),longitude:(0,i.default)(n,"coords.longitude",0)},e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=(0,i.default)(e.t0,"message","Oops! Something went wrong."),(0,E.j5)(E.yt.LOCATION_FAILURE,{message:a,pageName:t,flowType:E.lN.LOCATION_CHANGER_MODAL,appType:E.IF.GPAY});case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_};const c=R},hcmH:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n("lXQd");const r=function(e){return{ADD_ADDRESS_TITLE:(0,a.default)(e,"langKeys.ADD_ADDRESS",""),EDIT_ADDRESS_TITLE:(0,a.default)(e,"langKeys.ORDER_SUSHI_EDIT_ADDRESS_TITLE",""),DELIVERY_AREA_LABEL:(0,a.default)(e,"langKeys.ORDER_SUSHI_DELIVERY_AREA_LABEL",""),ADDRESS_INPUT_PLACEHOLDER:(0,a.default)(e,"langKeys.ORDER_SUSHI_ADDRESS_INPUT_PLACEHOLDER",""),INSTRUCTIONS_INPUT_PLACEHOLDER:(0,a.default)(e,"langKeys.ORDER_SUSHI_INSTRUCTIONS_INPUT_PLACEHOLDER",""),BACK_TO_ADDRESS_BUTTON_CAPTION:(0,a.default)(e,"langKeys.ORDER_SUSHI_BACK_TO_ADDRESS_BUTTON_CAPTION",""),CANCEL_BUTTON_CAPTION:(0,a.default)(e,"langKeys.ORDER_SUSHI_CANCEL_BUTTON_CAPTION",""),CHANGE_BUTTON_CAPTION:(0,a.default)(e,"langKeys.ORDER_SUSHI_CHANGE_BUTTON_CAPTION",""),SAVE_AND_PROCEED_BUTTON_CAPTION:(0,a.default)(e,"langKeys.ORDER_SUSHI_SAVE_AND_PROCEED_BUTTON_CAPTION",""),ADD_OTHER_TAG_PLACEHOLDER:(0,a.default)(e,"langKeys.ORDER_SUSHI_ADD_OTHER_TAG_PLACEHOLDER",""),SEARCH_INPUT_PLACEHOLDER:(0,a.default)(e,"langKeys.ORDER_SUSHI_SEARCH_INPUT_PLACEHOLDER",""),RECENT_LOCATION_HEADER_TEXT:(0,a.default)(e,"langKeys.ORDER_SUSHI_RECENT_LOCATION_HEADER_TEXT",""),BACK_TO_ADD_ADDRESS_BUTTON_CAPTION:(0,a.default)(e,"langKeys.ORDER_SUSHI_BACK_TO_ADD_ADDRESS_BUTTON_CAPTION",""),ADDRESS_TYPE_LABEL_WORK:(0,a.default)(e,"langKeys.ORDER_SUSHI_ADDRESS_TYPE_LABEL_WORK",""),ADDRESS_TYPE_LABEL_HOME:(0,a.default)(e,"langKeys.ORDER_SUSHI_ADDRESS_TYPE_LABEL_HOME",""),ADDRESS_TYPE_LABEL_HOTEL:(0,a.default)(e,"langKeys.ORDER_SUSHI_ADDRESS_TYPE_LABEL_HOTEL",""),ADDRESS_TYPE_LABEL_OTHER:(0,a.default)(e,"langKeys.ORDER_SUSHI_ADDRESS_TYPE_LABEL_OTHER",""),SEARCH_LOCATION_MODAL_TITLE:(0,a.default)(e,"langKeys.ORDER_SUSHI_SEARCH_LOCATION_MODAL_TITLE",""),SELECT_ADDRESS_MODAL_TITLE:(0,a.default)(e,"langKeys.ORDER_SUSHI_SELECT_ADDRESS_MODAL_TITLE",""),SAVED_ADDRESS_SEARCH_PLACEHOLDER:(0,a.default)(e,"langKeys.ORDER_SUSHI_SAVED_ADDRESS_SEARCH_PLACEHOLDER",""),ADD_ADDRESS_SEARCH_PLACEHOLDER:(0,a.default)(e,"langKeys.ORDER_SUSHI_ADD_ADDRESS_SEARCH_PLACEHOLDER",""),SAVED_ADDRESSES_TITLE:(0,a.default)(e,"langKeys.ORDER_SUSHI_SAVED_ADDRESSES_TITLE",""),SET_DELIVERY_LOCATION_TITLE:(0,a.default)(e,"langKeys.ORDER_SUSHI_SET_DELIVERY_LOCATION_TITLE","Set your delivery location"),CONFIRM_AND_PROCEED_BUTTON_CAPTION:(0,a.default)(e,"langKeys.ORDER_SUSHI_CONFIRM_AND_PROCEED_BUTTON_CAPTION","Confirm And Proceed"),ENABLE_LOCATION_TOAST_TEXT:(0,a.default)(e,"langKeys.GEO_LOCATION_PERMISSION_DENIED",""),MOVE_THE_PIN:(0,a.default)(e,"langKeys.ORDER_SUSHI_MOVE_THE_PIN",""),ADDRESS_BLOCKER_TEXT:(0,a.default)(e,"langKeys.ORDER_SUSHI_ADDRESS_BLOCKER_TEXT",""),addressListLocale:{DELIVERS_HERE_TEXT:(0,a.default)(e,"langKeys.ORDER_SUSHI_DELIVERS_HERE_TEXT",""),NOT_DELIVER_HERE_TEXT:(0,a.default)(e,"langKeys.ORDER_SUSHI_NOT_DELIVER_HERE_TEXT",""),EDIT_BUTTON_CAPTION:(0,a.default)(e,"langKeys.ORDER_SUSHI_EDIT_BUTTON_CAPTION","")},googleMapPromptText:{line1:(0,a.default)(e,"langKeys.ORDER_SUSHI_GOOGLE_MAP_PROMPT_LINE1","Your food will be delivered here"),line2:(0,a.default)(e,"langKeys.ORDER_SUSHI_GOOGLE_MAP_PROMPT_LINE2","Please place the pin accurately on the map")}}}},CpmW:(e,t,n)=>{n.d(t,{c:()=>o});var a=n("lXQd"),r=n("RP/V"),o=function(e){var t=(0,r.P)(e),n=Number((0,a.default)(t,"latitude",0)),o=Number((0,a.default)(t,"longitude",0));return{userLatitude:Number((0,a.default)(t,"userDefinedLatitude",n)),userLongitude:Number((0,a.default)(t,"userDefinedLongitude",o))}}}}]);